<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="page_icon" content="üè´">
    <title>ÊºÜÈªí„ÅÆÈÅ•ËóçÂú∞</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè´</text></svg>">
    <style>
        .typing-effect {
            display: inline-block;
            border-right: 0.15em solid #666;
            white-space: pre-wrap;
            overflow: hidden;
            letter-spacing: 0.05em;
            animation: blink-caret 0.75s step-end infinite;
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #666 }
        }
        
        .loading-indicator {
            display: inline-block;
            position: relative;
            width: 80px;
            height: 20px;
            margin: 10px 0;
        }
        
        .loading-indicator div {
            position: absolute;
            top: 8px;
            width: 13px;
            height: 13px;
            border-radius: 50%;
            background: #666;
            animation-timing-function: cubic-bezier(0, 1, 1, 0);
        }
        
        .loading-indicator div:nth-child(1) {
            left: 8px;
            animation: loading1 0.6s infinite;
        }
        
        .loading-indicator div:nth-child(2) {
            left: 8px;
            animation: loading2 0.6s infinite;
        }
        
        .loading-indicator div:nth-child(3) {
            left: 32px;
            animation: loading2 0.6s infinite;
        }
        
        .loading-indicator div:nth-child(4) {
            left: 56px;
            animation: loading3 0.6s infinite;
        }
        
        @keyframes loading1 {
            0% { transform: scale(0); }
            100% { transform: scale(1); }
        }
        
        @keyframes loading2 {
            0% { transform: translate(0, 0); }
            100% { transform: translate(24px, 0); }
        }
        
        @keyframes loading3 {
            0% { transform: scale(1); }
            100% { transform: scale(0); }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- „Ç™„Éº„Éó„Éã„É≥„Ç∞ÁîªÈù¢ -->
        <div id="opening-screen" class="screen">
            <div class="centered-content full-height">
                <img src="src/images/ruined-door.jpg" alt="ÂªÉÂ¢ü„ÅÆ„Éâ„Ç¢" class="scene-image">
            </div>
            <div class="hidden-button-container">
                <button id="jump-to-quiz2" class="hidden-button"></button>
            </div>
            <div class="sidebar">
                <h3>Navigation</h3>
                <div class="debug-button">
                    <button id="jump-to-quiz-intro" class="debug-btn">Quiz Intro</button>
                </div>
                <div class="debug-button">
                    <button id="jump-to-quiz2-sidebar" class="debug-btn">Quiz2</button>
                </div>
                <div class="debug-button">
                    <button id="jump-to-middle-success-opening" class="debug-btn">Middle Success</button>
                </div>
                <div class="debug-button">
                    <button id="jump-to-final-success-opening" class="debug-btn">Final Success</button>
                </div>

            </div>
        </div>

        <!-- „Ç™„Éº„Éó„Éã„É≥„Ç∞2ÁîªÈù¢ -->
        <div id="opening2-screen" class="screen hidden">
            <div class="centered-content full-height">
                <img src="src/images/ruined-door-opened.png" alt="Èñã„ÅÑ„Åü„Éâ„Ç¢" class="scene-image">
            </div>
        </div>

        <!-- „ÇØ„Ç§„Ç∫„Ç§„É≥„Éà„É≠ÁîªÈù¢ -->
        <div id="quiz-intro-screen" class="screen hidden">
            <div class="split-content">
                <div class="left-content">
                    <img src="src/images/principals-office.png" alt="Ê†°Èï∑ÂÆ§" class="scene-image">
                </div>
                <div class="right-content">
                    <h1>ÈªíÊ∞¥Ê†°Èï∑„ÅåÁèæ„Çå„ÅüÔºÅ</h1>
                    <button id="challenge-button" class="button">ÊåëÊà¶„Åô„Çã</button>
                </div>
            </div>
        </div>

        <!-- „ÇØ„Ç§„Ç∫1ÁîªÈù¢ -->
        <div id="quiz-screen" class="screen hidden">
            <h1 class="center-text">Âü∫Êú¨ÂïèÈ°å„Çí„ÇØ„É™„Ç¢„Åõ„ÇàÔºÅ</h1>
            
            <div class="sidebar">
                <h3>„É¢„Éá„É´Ë®≠ÂÆö</h3>
                <div class="radio-group">
                    <input type="radio" id="gpt-4o" name="model-choice" value="gpt-4o" checked>
                    <label for="gpt-4o">gpt-4o</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="gemini" name="model-choice" value="gemini">
                    <label for="gemini">gemini</label>
                </div>
                
                <h3>Èü≥Â£∞Ë®≠ÂÆö</h3>
                <div class="toggle-group">
                    <input type="checkbox" id="tts-enabled" checked>
                    <label for="tts-enabled">Èü≥Â£∞Ë™≠„Åø‰∏ä„Åí</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="openai-tts" name="tts-provider" value="openai" checked>
                    <label for="openai-tts">openai</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="google-tts" name="tts-provider" value="google">
                    <label for="google-tts">google</label>
                </div>
                
 
                <div class="debug-button">
                    <button id="jump-to-middle-success" class="debug-btn">Middle Success</button>
                </div>
                <div class="debug-button">
                    <button id="jump-to-final-success" class="debug-btn">Final Success</button>
                </div>
            </div>
            
            <div class="chat-container">
                <div id="chat-messages" class="chat-messages"></div>
            </div>
            
            <div class="input-container">
                <input type="text" id="user-input" placeholder="„ÅÇ„Å™„Åü„ÅÆÂõûÁ≠î„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ">
            </div>
        </div>

        <!-- ‰∏≠ÈñìÊàêÂäüÁîªÈù¢ -->
        <div id="middle-success-screen" class="screen hidden">
            <div class="centered-content">
                <img src="src/images/school-gate.png" alt="Â≠¶Ê†°„ÅÆÈñÄ" class="scene-image">
                <p class="center-text">„Äå„Åµ„ÇìÔºÅÂü∫Êú¨ÁöÑ„Å™Â≠¶Âäõ„ÇÑÁü•Ë≠ò„ÅØ„ÅÇ„Çã„Çà„ÅÜ„ÇÑ„Å≠‚Ä¶‚Ä¶„Å†„ÅåÁ¨¨‰∫åÈñ¢ÈñÄ„ÅåÂæÖ„Å£„Å®„Çã„ÅûÔºÅ„Äç</p>
                <button id="next-quiz-button" class="button">Ê¨°„Å´ÈÄ≤„ÇÄ</button>
            </div>
        </div>

        <!-- „ÇØ„Ç§„Ç∫2ÁîªÈù¢ -->
        <div id="quiz2-screen" class="screen hidden">
            <h1 class="center-text">ÈôÑË®≠„Å´Èñ¢„Åô„ÇãË≥™Âïè„Çí„ÇØ„É™„Ç¢„Åõ„ÇàÔºÅ</h1>
            
            <div class="sidebar">
                <h3>„É¢„Éá„É´Ë®≠ÂÆö</h3>
                <div class="radio-group">
                    <input type="radio" id="gpt-4o-2" name="model-choice-2" value="gpt-4o" checked>
                    <label for="gpt-4o-2">gpt-4o</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="gemini-2" name="model-choice-2" value="gemini">
                    <label for="gemini-2">gemini</label>
                </div>
                
                <h3>Èü≥Â£∞Ë®≠ÂÆö</h3>
                <div class="toggle-group">
                    <input type="checkbox" id="tts-enabled-2" checked>
                    <label for="tts-enabled-2">Èü≥Â£∞Ë™≠„Åø‰∏ä„Åí</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="openai-tts-2" name="tts-provider-2" value="openai" checked>
                    <label for="openai-tts-2">openai</label>
                </div>
                <div class="radio-group">
                    <input type="radio" id="google-tts-2" name="tts-provider-2" value="google">
                    <label for="google-tts-2">google</label>
                </div>
                
                <h3>Jump</h3>
                <div class="debug-button">
                    <button id="jump-to-middle-success-2" class="debug-btn">Middle Success</button>
                </div>
                <div class="debug-button">
                    <button id="jump-to-final-success-2" class="debug-btn">Final Success</button>
                </div>
            </div>
            
            <div class="chat-container">
                <div id="chat-messages-2" class="chat-messages"></div>
            </div>
            
            <div class="input-container">
                <input type="text" id="user-input-2" placeholder="„ÅÇ„Å™„Åü„ÅÆÂõûÁ≠î„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ">
            </div>
        </div>

        <!-- ÊúÄÁµÇÊàêÂäüÁîªÈù¢ -->
        <div id="final-success-screen" class="screen hidden">
            <div class="centered-content">
                <div class="image-transition-container">
                    <img src="src/images/anger-kuromizu.png" alt="ÊÄí„ÇãÈªíÊ∞¥" class="fade-image" id="anger-image">
                    <img src="src/images/manager-room-empty.png" alt="Á©∫„ÅÆÈÉ®Â±ã" class="fade-image hidden" id="empty-room-image">
                </div>
            </div>
        </div>

        <!-- „Ç™„Éº„Éá„Ç£„Ç™Ë¶ÅÁ¥† -->
        <audio id="door-open-sound" src="src/audio/door-open.mp3" preload="auto"></audio>
    </div>

    <script src="app.js"></script>
</body>
</html> 